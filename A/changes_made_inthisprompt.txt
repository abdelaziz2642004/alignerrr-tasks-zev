 Summary of Enhancements

  The command validator has been significantly improved with:

  1. Structured Error Information

  - ValidationErrorType enum: Categorizes errors (UNCLOSED_QUOTE, UNBALANCED_DELIMITER, INVALID_PIPE, etc.)
  - Position tracking: Reports the character position where errors occur
  - Context snippets: Shows the relevant portion of the command around the error
  - Actionable suggestions: Every error includes a specific suggestion for how to fix it

  2. Enhanced Quote Validation

  - Tracks single quotes ('), double quotes ("), and backticks (`)
  - Reports exact position where unclosed quotes start
  - Properly handles escape sequences
  - Suggests using $() instead of backticks for modern shell style

  3. Improved Delimiter Checking

  - Tracks parentheses (), braces {}, and brackets []
  - Handles $() command substitution and ${} variable expansion
  - Properly handles case statement patterns where ) is a pattern delimiter

  4. Operator Validation

  - Detects invalid starting operators (|, &&, ||, ;, &)
  - Detects incomplete trailing operators
  - Validates operator combinations
  - Allows ;; inside case statements but flags it elsewhere

  5. Pipe Validation

  - Checks each segment in a pipe chain has a command
  - Detects empty pipe segments

  6. Redirection Validation

  - Detects malformed redirections like > > (should be >>)
  - Validates file descriptor numbers
  - Checks for missing redirection targets

  7. Control Structure Validation

  - Validates if/fi, for/done, while/done, until/done, case/esac, select/done
  - Detects unclosed structures and mismatched keywords

  8. Command Substitution Validation

  - Detects empty $() and   `` substitutions
  - Warns about nested backticks (suggests $() instead)
