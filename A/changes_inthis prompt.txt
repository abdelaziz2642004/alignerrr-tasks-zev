 The implementation is complete. Let me provide a summary of the changes made:            )

  Summary

  I've added multi-step workflow support to zev. Here's what was implemented:

  1. New Data Types (src/zev/llms/types.py)

  - WorkflowStep: Represents a single step with step_number, command, description, is_dangerous,
  dangerous_explanation, and depends_on_previous (boolean indicating dependency on previous step)
  - Workflow: A named workflow with name, description, steps list, and is_dangerous flag
  - OptionsResponse: Updated to include a workflows list alongside existing commands

  2. Updated LLM Prompt (src/zev/constants.py)

  - Enhanced prompt instructs the LLM to return both single commands AND multi-step workflows
  - Provides guidance on when to use workflows (git operations, build processes, deployment, etc.)
  - Includes example workflow structure for clarity

  3. Updated Gemini Schema (src/zev/llms/gemini/provider.py)

  - Added JSON schema for workflow response format

  4. New Workflow UI (src/zev/command_selector.py)

  - Selection: Workflows appear with a separator and "[Workflow]" prefix showing step count
  - Overview: Displays a table showing all steps, commands, descriptions, and dependencies
  - Execution modes:
    - Run all: Executes all steps sequentially, stopping if a step fails and the next depends on it
    - Copy all: Copies all commands to clipboard (newline-separated)
    - Interactive: Step-by-step execution with options to run, skip, copy, or abort at each step
  - Safety: Dangerous steps prompt for confirmation, warnings are shown prominently

  5. Updated Main Flow (src/zev/main.py)

  - Passes workflows to show_options() alongside commands

  6. Updated History (src/zev/command_history.py)

  - History now stores and retrieves workflows alongside commands

  Example Usage

  When a user asks "commit and push my changes", zev can now return a workflow:
  ┌─────────────────────────────────────────────────────────────┐
  │              Workflow: Git commit and push                  │
  ├──────┬──────────────────────────┬───────────────────┬───────┤
  │ Step │ Command                  │ Description       │Depends│
  ├──────┼──────────────────────────┼───────────────────┼───────┤
  │  1   │ git add .                │ Stage all changes │  No   │
  │  2   │ git commit -m 'message'  │ Commit changes    │  Yes  │
  │  3   │ git push                 │ Push to remote    │  Yes  │
  └──────┴──────────────────────────┴───────────────────┴───────┘