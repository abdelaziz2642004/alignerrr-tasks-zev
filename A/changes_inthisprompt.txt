● Read(src/zev/main.py)
  ⎿  Read 166 lines

● The issue is that check_pending_feedback() is called after handle_special_case() returns, but it's called before we
  know if the user is actually going to make a query. I need to move the feedback check to only happen when we're about
  to process an actual query.

● Update(src/zev/main.py)
  ⎿  Added 3 lines
       60
       61
       62    def run_no_prompt():
       63 +      # Check for pending feedback before prompting for new query
       64 +      check_pending_feedback()
       65 +
       66        input = get_input_string("input", "Describe what you want to do:", required=False,
            help_text="(-h for help)")
       67        if handle_special_case(input):
       68            return

● Update(src/zev/main.py)
  ⎿  Added 3 lines, removed 3 lines
       152
       153        dotenv.load_dotenv(config_path, override=True)
       154
       155 -      # Check for pending feedback from previous command before proceeding
       156 -      check_pending_feedback()
       157 -
       155        if not args:
       156            run_no_prompt()
       157            return
       158
       159 +      # Check for pending feedback before processing a new query
       160 +      check_pending_feedback()
       161 +
       162        # Strip any trailing question marks from the input
       163        query = " ".join(args).rstrip("?")
       164        get_options(query)

● Now the feedback check only happens in two places:
  1. In run_no_prompt() - when user runs zev without arguments and is about to enter a query
  2. In app() - when user runs zev "some query" with arguments

  It will NOT run for utility flags like --setup, --help, --version, --recent, or --feedback since those return early
  via handle_special_case().

  Let me verify the syntax is correct:

● Bash(python -m py_compile src/zev/main.py && echo "Syntax OK")
  ⎿  Syntax OK

● The fix is complete. Now the feedback prompt will only appear when users are making actual command queries, not when
  using utility flags like --setup, --help, --version, --recent, or --feedback.